# ===========================================
# PRMS Fetcher/Normalizer Environment Variables
# ===========================================
# Copy this file to .env and fill in the values

# -------------------------------------------
# AWS Configuration
# -------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# S3 Bucket for offloading large payloads
S3_BUCKET=prms-ingestion-data

# -------------------------------------------
# External API Configuration
# -------------------------------------------
# URL of the external API that enriches results
# This API receives the normalized data and returns enriched results with IDs
EXTERNAL_API_URL=https://your-external-api.example.com

# -------------------------------------------
# OpenSearch Configuration
# -------------------------------------------
# OpenSearch endpoint (without trailing slash)
OPENSEARCH_ENDPOINT=https://your-opensearch-domain.region.es.amazonaws.com

# OpenSearch authentication
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=your-opensearch-password

# -------------------------------------------
# Application Configuration
# -------------------------------------------
# Default operation when not specified in request (create, update, delete)
DEFAULT_OP=create

# Number of results to process in parallel per batch
BATCH_SIZE=10

# -------------------------------------------
# Server Configuration (for local development)
# -------------------------------------------
PORT=3000
NODE_ENV=development

# -------------------------------------------
# Optional: Logging and Monitoring
# -------------------------------------------
# LOG_LEVEL=info
# SENTRY_DSN=your-sentry-dsn

# -------------------------------------------
# Notes:
# -------------------------------------------
# 1. OpenSearch indices are created automatically with pattern: prms-results-{type}
#    Examples: prms-results-knowledge_product, prms-results-capacity_sharing
#
# 2. Global OpenSearch alias: prms-results-management-api
#
# 3. Supported result types:
#    - knowledge_product (kp)
#    - capacity_sharing (cs)
#    - innovation_development (id)
#    - innovation_use (iu)
#    - other_output (oo)
#    - other_outcome (oc)
#    - policy_change (pc)
#
# 4. BATCH_SIZE controls concurrent processing per type
#    Higher values = faster but more memory usage
#    Recommended: 5-20 depending on your infrastructure
#
# 5. For production, use AWS Secrets Manager or similar for credentials
