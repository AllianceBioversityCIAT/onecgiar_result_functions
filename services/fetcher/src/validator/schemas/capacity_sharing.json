{
  "$id": "https://prms/schemas/capacity_sharing.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Capacity Sharing Result",
  "description": "Schema for capacity sharing results",
  "allOf": [
    { "$ref": "https://prms/schemas/common_fields.json" },
    {
      "type": "object",
      "properties": {
        "capacity_sharing": {
          "type": "object",
          "properties": {
            "number_people_trained": {
              "type": "object",
              "properties": {
                "women": { "type": "number" },
                "men": { "type": "number" },
                "non_binary": { "type": "number" },
                "unknown": { "type": "number" }
              },
              "additionalProperties": false,
              "anyOf": [
                { "required": ["women"] },
                { "required": ["men"] },
                { "required": ["non_binary"] },
                { "required": ["unknown"] }
              ]
            },
            "length_training": {
              "type": "string",
              "enum": ["PhD", "Master", "Short-term", "Long-term"]
            },
            "delivery_method": {
              "type": "string",
              "enum": ["Virtual / Online", "In person", "Blended (in-person and virtual)"]
            }
          },
          "required": [
            "number_people_trained",
            "length_training",
            "delivery_method"
          ]
        }
      },
      "required": ["capacity_sharing"]
    }
  ]
}
